# ==========================================
# AI Glass Backend - Production Environment
# ==========================================
# SECURITY WARNING: This file contains sensitive data!
# 
# BEST PRACTICES:
# 1. Use RAM Role on Alibaba Cloud ECS (no AccessKey needed)
# 2. Store secrets in HashiCorp Vault or AWS Secrets Manager
# 3. Never commit this file to git!
# 4. Restrict file permissions: chmod 600 .env
# 5. Generate strong passwords: openssl rand -base64 32

# ==========================================
# ENVIRONMENT
# ==========================================
SPRING_PROFILES_ACTIVE=prod

# DATABASE CONFIGURATION
MYSQL_ROOT_PASSWORD=CHANGE_ME_STRONG_ROOT_PASSWORD
MYSQL_DATABASE=aiglass_db
MYSQL_USER=aiglass_prod_user
MYSQL_PASSWORD=CHANGE_ME_STRONG_DB_PASSWORD
MYSQL_PORT=3306

# For Docker Compose (internal network)
SPRING_DATASOURCE_URL=jdbc:mysql://mysql:3306/aiglass_db?useSSL=true&allowPublicKeyRetrieval=false&serverTimezone=Asia/Shanghai
SPRING_DATASOURCE_USERNAME=aiglass_prod_user
SPRING_DATASOURCE_PASSWORD=CHANGE_ME_STRONG_DB_PASSWORD

# REDIS CONFIGURATION
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_STRONG_REDIS_PASSWORD

# SERVER CONFIGURATION
SERVER_PORT=8080

# JWT CONFIGURATION
# Generate strong secret: openssl rand -base64 32
JWT_SECRET=CHANGE_ME_GENERATE_WITH_OPENSSL
JWT_EXPIRATION=3600000
REFRESH_TOKEN_EXPIRATION=604800000

# ALIYUN SMS CONFIGURATION
# RECOMMENDED: Use RAM Role on ECS instead!
# Steps:
# 1. Go to RAM Console
# 2. Create ECS role with AliyunDysmsFullAccess
# 3. Attach role to your ECS instance
# 4. Leave ACCESS_KEY_ID and SECRET empty
#
# If not using RAM role, fill in credentials:
ALIYUN_SMS_ENABLED=true
ALIYUN_ACCESS_KEY_ID=
ALIYUN_ACCESS_KEY_SECRET=
ALIYUN_SMS_SIGN_NAME=AI Glass
ALIYUN_REGION_ID=cn-chengdu
ALIYUN_SMS_ENDPOINT=dysmsapi.aliyuncs.com

# SMS Template IDs (get from Aliyun Console)
ALIYUN_SMS_TEMPLATE_OTP=SMS_XXXXXXX
ALIYUN_SMS_TEMPLATE_PASSWORD_RESET=SMS_XXXXXXX
ALIYUN_SMS_TEMPLATE_LOGIN_WARNING=SMS_XXXXXXX
ALIYUN_SMS_TEMPLATE_ACCOUNT_LOCKED=SMS_XXXXXXX
ALIYUN_SMS_TEMPLATE_VERIFICATION_SUCCESS=SMS_XXXXXXX
ALIYUN_SMS_TEMPLATE_PASSWORD_CHANGED=SMS_XXXXXXX

# SECURITY CONFIGURATION
MAX_LOGIN_ATTEMPTS=5
LOCK_DURATION_MINUTES=30
OTP_EXPIRY_MINUTES=5
OTP_RATE_LIMIT_MINUTES=1
OTP_INCLUDE_IN_RESPONSE=false

# RATE LIMITING
RATE_LIMIT_RPM=60

# LOGGING
LOG_LEVEL=INFO

# SWAGGER
SWAGGER_ENABLED=false

